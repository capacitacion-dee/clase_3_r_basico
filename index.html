<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>index</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="ine_quarto_styles.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section>
<section id="section" class="title-slide slide level1 center">
<h1></h1>
<!---
# TODO: this does not work
.linea-superior[]
.linea-inferior[] 
--->
<!---
# TODO: this does not work
![](imagenes/logo_portada2.png){.center style="width: 20%;"}   
--->
<!---
<img src="imagenes/logo_portada2.png" style="width: 20%"/>  
--->
<p><img src="imagenes/logo_portada2.png" width="20%"></p>
<p><span class="big-par center-justified"><strong>Capacitación en R y herramientas de productividad</strong></span></p>
<p><span class="big-par center-justified"><strong>Nivel básico</strong></span></p>
<p><span class="big-par center-justified"><strong>Mayo 2024</strong></span></p>
</section>
<section id="contenidos" class="slide level2">
<h2>Contenidos</h2>
<div class="small-par">
<ul>
<li class="fragment">Estructuración de tablas: pivot_longer</li>
<li class="fragment">Estructuración de tablas: pivot_wider</li>
<li class="fragment">Unión de tablas</li>
<li class="fragment">Visualización de datos con ggplot</li>
<li class="fragment">Ejercicios</li>
</ul>
</div>
</section>
<section id="estructuración-de-tablas" class="slide level2">
<h2>Estructuración de tablas</h2>
<div class="small-par">
<ul>
<li class="fragment">En ocasiones necesitamos transformar el formato de nuestros dataframes, desde <strong>wide</strong> a <strong>long</strong>, o viceversa.</li>
<li class="fragment">Un dataframe en formato <strong>wide</strong> (ancho) es un tipo de organización de datos en el que cada fila representa un único caso o entidad, y las columnas contienen múltiples variables.</li>
<li class="fragment">Es común cuando las variables son medidas en diferentes momentos o categorías, como en series temporales.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  producto 2018 2019 2020
1        A  100  120  130
2        B  150  180  160
3        C  200  220  210</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Un dataframe en formato ancho contiene valores que no se repiten en la primera columna, como en este ejemplo donde cada fila representa un producto y las columnas contienen los años de las ventas en tres productos diferentes (A, B y C).</li>
<li>Este es un ejemplo de un DataFrame en formato wide porque las variables están dispuestas en columnas separadas.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="estructuración-de-tablas-1" class="slide level2">
<h2>Estructuración de tablas</h2>
<div class="small-par">
<ul>
<li class="fragment">Un DataFrame en formato <strong>long</strong> (largo) es un tipo de organización de datos en el que cada fila representa una observación única y cada variable tiene su propia columna. En otras palabras, hay una sola columna para todas las observaciones de una variable y una columna adicional que identifica la variable.</li>
<li class="fragment">Es común cuando se quiere facilitar el manejo y análisis de datos, especialmente para operaciones como agregaciones, visualizaciones y análisis estadísticos.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  producto anio  ventas
  &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
1 A        2018     100
2 A        2019     120
3 A        2020     130
4 B        2018     150
5 B        2019     180
6 B        2020     160
7 C        2018     200
8 C        2019     220
9 C        2020     210</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Este dataframe está en formato largo dado que ahora los productos A, B y C sí se repiten en la primera columna. Ahora tenemos una sola columna para las ventas, y otra columna que identifica el año correspondiente a cada observación.</li>
<li>En este ejemplo ambos dataframes contienen la misma información pero en formatos diferentes.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="estructuración-de-tablas-pivot_longer" class="slide level2">
<h2>Estructuración de tablas: pivot_longer</h2>
<div class="small-par">
<ul>
<li class="fragment"><strong>Función pivot_longer()</strong>: es una función del paquete “tidyr” utilizada para pivotear un dataframe de formato ancho a uno de formato largo. Esta función incrementa el número de filas y disminuye el número de columnas.</li>
<li class="fragment">Sus argumentos son:
<ul>
<li class="fragment"><strong>data</strong>: el dataframe a ser modificado.</li>
<li class="fragment"><strong>cols</strong>: especifica las columnas que queremos “alargar”, es decir, las columnas que contienen los valores que queremos mover a una sola columna</li>
<li class="fragment"><strong>names_to</strong>: especifica el nombre de la nueva columna que contendrá los nombres de las columnas alargadas.</li>
<li class="fragment"><strong>values_to</strong>: especifica el nombre de la nueva columna que contendrá los valores de las columnas alargadas.</li>
</ul></li>
<li class="fragment">Veamos cómo funciona:</li>
</ul>
</div>
</section>
<section id="estructuración-de-tablas-pivot_longer-1" class="slide level2">
<h2>Estructuración de tablas: pivot_longer</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>ventas_wide</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  producto 2018 2019 2020
1        A  100  120  130
2        B  150  180  160
3        C  200  220  210</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#install.packages("tidyr")</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>ventas_long <span class="ot">&lt;-</span> ventas_wide <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>producto, <span class="at">names_to =</span> <span class="st">"anio"</span>, <span class="at">values_to =</span> <span class="st">"ventas"</span>)</span>
<span id="cb5-7"><a href="#cb5-7"></a>ventas_long</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  producto anio  ventas
  &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
1 A        2018     100
2 A        2019     120
3 A        2020     130
4 B        2018     150
5 B        2019     180
6 B        2020     160
7 C        2018     200
8 C        2019     220
9 C        2020     210</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>En este ejemplo estamos convirtiendo ventas_wide a formato long usando pivot_longer()</li>
<li>En el parámetro cols especificamos las columnas que queremos pivotear o transformar</li>
<li>En este ejemplo, queremos transformar todas las columnas menos producto, por eso usamos el signo - para seleccionar todas las columnas menos producto, es decir, queremos pivotear las columnas 2018, 2019 y 2020 usando como llave o pivote la columna “producto”</li>
<li>El argumento names_to = “anio” especifica que el nombre de la nueva columna que contendrá los nombres de los años será “anio”</li>
<li>El argumento values_to = “ventas” especifica que el nombre de la nueva columna que contendrá los valores de las columnas alargadas será “ventas”. En este caso, almacenará los valores de las ventas anuales de cada producto.</li>
<li>Ahora tenemos un dataframe en formato largo, donde habrá una fila para cada combinación de “producto” y “anio”, y una columna para los valores correspondientes.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="estructuración-de-tablas-pivot_wider" class="slide level2">
<h2>Estructuración de tablas: pivot_wider</h2>
<div class="small-par">
<ul>
<li class="fragment"><strong>Función pivot_wider()</strong>: es una función del paquete “tidyr” utilizada para pivotear un dataframe de formato largo a uno de formato ancho. Esta función disminuye el número de filas y aumenta el número de columnas.</li>
<li class="fragment">Sus argumentos son:
<ul>
<li class="fragment"><strong>data</strong>: el dataframe a ser modificado.</li>
<li class="fragment"><strong>names_from</strong>: qué columnas se extenderán y cuyos valores se convertirán en nombres de nuevas columnas.</li>
<li class="fragment"><strong>values_from</strong>: qué columnas se utilizarán para llenar los valores en las nuevas columnas creadas por la extensión de la variable especificada en names_from.</li>
</ul></li>
<li class="fragment">Veamos cómo funciona:</li>
</ul>
</div>
</section>
<section id="estructuración-de-tablas-pivot_wider-1" class="slide level2">
<h2>Estructuración de tablas: pivot_wider</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>ventas_long</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  producto anio  ventas
  &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
1 A        2018     100
2 A        2019     120
3 A        2020     130
4 B        2018     150
5 B        2019     180
6 B        2020     160
7 C        2018     200
8 C        2019     220
9 C        2020     210</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>ventas_wide <span class="ot">&lt;-</span> ventas_long <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> anio, <span class="at">values_from =</span> ventas, <span class="at">names_prefix =</span> <span class="st">"anio_"</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a>ventas_wide</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  producto anio_2018 anio_2019 anio_2020
  &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 A              100       120       130
2 B              150       180       160
3 C              200       220       210</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>El argumento names_from = anio especifica que los nombres de las nuevas columnas se tomarán de la columna “anio” del dataframe ventas_long</li>
<li>El argumento values_from = ventas especifica que los valores que se distribuirán en las nuevas columnas se tomarán de la columna “ventas”.</li>
<li>names_prefix es un argumento opcional para agregar un prefijo a las columnas que se van a crear, en este caso estamos usando “anio_”.</li>
<li>Esto lo hacemos porque es recomendable no nombrar las columnas como números sino que como un texto.</li>
<li>Podemos ver que ahora cada producto se repite sólo una vez en la primera columna y las ventas de cada producto se han extendido para cada año, convirtiéndose en columnas separadas.</li>
<li>Esta estructura de datos es más ancha pero más fácil de interpretar que en su formato long.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="ejercicio-1" class="slide level2">
<h2>Ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Cargue la librería “datos” y almacene el dataframe “encuesta” como “encuesta”.</li>
<li class="fragment">Agrupe el dataframe encuesta por las variables “anio” e “ingreso” y, usando un summarise(), calcule las horas_tv promedio usando la función mean(). Llame a esta variable “horas_prom”. Almacene el dataframe resultante como “encuesta_agrupado”. <strong>Nota</strong>: recuerde usar el argumento na.rm = TRUE para que no considere los valores NA.</li>
<li class="fragment">La tabla debería verse así:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 125 × 3
# Groups:   anio [8]
    anio ingreso              horas_prom
   &lt;int&gt; &lt;fct&gt;                     &lt;dbl&gt;
 1  2000 Sin respuesta              2.33
 2  2000 No sabe                    4.05
 3  2000 Se niega a responder       2.49
 4  2000 25000 o más                2.26
 5  2000 20000 - 24999              2.65
 6  2000 15000 - 19999              2.85
 7  2000 10000 - 14999              2.65
 8  2000 8000 - 9999                3.27
 9  2000 7000 - 7999                2.78
10  2000 6000 - 6999                2.96
# ℹ 115 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="ejercicio-1-1" class="slide level2">
<h2>Ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Utilizando la función pivot_wider(), convierta el dataframe “encuesta_agrupado” a formato ancho. El nombre de las columnas debe ser el ingreso y los valores las horas de tv promedio. Almacene el dataframe resultante como “encuesta_wide”</li>
<li class="fragment">La tabla debería verse así:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 17
# Groups:   anio [8]
   anio `Sin respuesta` `No sabe` `Se niega a responder` `25000 o más`
  &lt;int&gt;           &lt;dbl&gt;     &lt;dbl&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
1  2000            2.33      4.05                   2.49          2.26
2  2002            3.75      2.7                    2.18          2.15
3  2004            2.75      3.44                   2.54          2.11
4  2006            3         2.58                   2.13          2.30
5  2008            3.06      4.07                   2.36          2.26
6  2010           NA         2.9                    3.25          2.22
7  2012           NA         4.63                   2.40          2.22
8  2014           NA         1.78                   1.96          2.23
# ℹ 12 more variables: `20000 - 24999` &lt;dbl&gt;, `15000 - 19999` &lt;dbl&gt;,
#   `10000 - 14999` &lt;dbl&gt;, `8000 - 9999` &lt;dbl&gt;, `7000 - 7999` &lt;dbl&gt;,
#   `6000 - 6999` &lt;dbl&gt;, `5000 - 5999` &lt;dbl&gt;, `4000 - 4999` &lt;dbl&gt;,
#   `3000 - 3999` &lt;dbl&gt;, `1000 - 2999` &lt;dbl&gt;, `Menos de 1000` &lt;dbl&gt;,
#   `No aplica` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="ejercicio-1-2" class="slide level2">
<h2>Ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Transforme el dataframe “encuesta_wide” a su estructura original, es decir, en formato long, usando pivot_longer(). El dataframe resultante debe ser igual a “encuesta_agrupado”. Almacene este dataframe como “encuesta_long”.</li>
</ul>
</div>
</section>
<section id="solución-ejercicio-1" class="slide level2">
<h2>Solución ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Cargue la librería “datos” y almacene el dataframe “encuesta” como “encuesta”.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">library</span>(datos)</span>
<span id="cb13-2"><a href="#cb13-2"></a>encuesta <span class="ot">&lt;-</span> encuesta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="solución-ejercicio-1-1" class="slide level2">
<h2>Solución ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Agrupe el dataframe encuesta por las variables “anio” e “ingreso” y, usando un summarise(), calcule las horas_tv promedio usando la función mean(). Llame a esta variable “horas_prom”. Almacene el dataframe resultante como “encuesta_agrupado”. <strong>Nota</strong>: recuerde usar el argumento na.rm = TRUE para que no considere los valores NA.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>encuesta_agrupado <span class="ot">&lt;-</span> encuesta <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">group_by</span>(anio, ingreso) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">summarise</span>(<span class="at">horas_prom =</span> <span class="fu">mean</span>(horas_tv, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb14-4"><a href="#cb14-4"></a>encuesta_agrupado</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 125 × 3
# Groups:   anio [8]
    anio ingreso              horas_prom
   &lt;int&gt; &lt;fct&gt;                     &lt;dbl&gt;
 1  2000 Sin respuesta              2.33
 2  2000 No sabe                    4.05
 3  2000 Se niega a responder       2.49
 4  2000 25000 o más                2.26
 5  2000 20000 - 24999              2.65
 6  2000 15000 - 19999              2.85
 7  2000 10000 - 14999              2.65
 8  2000 8000 - 9999                3.27
 9  2000 7000 - 7999                2.78
10  2000 6000 - 6999                2.96
# ℹ 115 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-1-2" class="slide level2">
<h2>Solución ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Utilizando la función pivot_wider(), convierta el dataframe “encuesta_agrupado” a formato ancho. El nombre de las columnas debe ser el ingreso y los valores las horas de tv promedio. Almacene el dataframe resultante como “encuesta_wide”</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>encuesta_wide <span class="ot">&lt;-</span> encuesta_agrupado <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> ingreso, <span class="at">values_from =</span> horas_prom)</span>
<span id="cb16-3"><a href="#cb16-3"></a>encuesta_wide</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 17
# Groups:   anio [8]
   anio `Sin respuesta` `No sabe` `Se niega a responder` `25000 o más`
  &lt;int&gt;           &lt;dbl&gt;     &lt;dbl&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
1  2000            2.33      4.05                   2.49          2.26
2  2002            3.75      2.7                    2.18          2.15
3  2004            2.75      3.44                   2.54          2.11
4  2006            3         2.58                   2.13          2.30
5  2008            3.06      4.07                   2.36          2.26
6  2010           NA         2.9                    3.25          2.22
7  2012           NA         4.63                   2.40          2.22
8  2014           NA         1.78                   1.96          2.23
# ℹ 12 more variables: `20000 - 24999` &lt;dbl&gt;, `15000 - 19999` &lt;dbl&gt;,
#   `10000 - 14999` &lt;dbl&gt;, `8000 - 9999` &lt;dbl&gt;, `7000 - 7999` &lt;dbl&gt;,
#   `6000 - 6999` &lt;dbl&gt;, `5000 - 5999` &lt;dbl&gt;, `4000 - 4999` &lt;dbl&gt;,
#   `3000 - 3999` &lt;dbl&gt;, `1000 - 2999` &lt;dbl&gt;, `Menos de 1000` &lt;dbl&gt;,
#   `No aplica` &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-1-3" class="slide level2">
<h2>Solución ejercicio 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Transforme el dataframe “encuesta_wide” a su estructura original, es decir, en formato long usando pivot_longer(). El dataframe resultante debe ser igual a “encuesta_agrupado”. Almacene este dataframe como “encuesta_long”.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>encuesta_long <span class="ot">&lt;-</span> encuesta_wide <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>anio, <span class="at">names_to =</span> <span class="st">"ingreso"</span>, <span class="at">values_to =</span> <span class="st">"horas_prom"</span>)</span>
<span id="cb18-3"><a href="#cb18-3"></a>encuesta_long</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 128 × 3
# Groups:   anio [8]
    anio ingreso              horas_prom
   &lt;int&gt; &lt;chr&gt;                     &lt;dbl&gt;
 1  2000 Sin respuesta              2.33
 2  2000 No sabe                    4.05
 3  2000 Se niega a responder       2.49
 4  2000 25000 o más                2.26
 5  2000 20000 - 24999              2.65
 6  2000 15000 - 19999              2.85
 7  2000 10000 - 14999              2.65
 8  2000 8000 - 9999                3.27
 9  2000 7000 - 7999                2.78
10  2000 6000 - 6999                2.96
# ℹ 118 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="unión-de-tablas" class="slide level2">
<h2>Unión de tablas</h2>
<div class="small-par">
<ul>
<li class="fragment">Una tarea común en el análisis de datos es reunir diferentes conjuntos de datos, de modo que podamos combinar columnas de dos (o más) tablas.</li>
<li class="fragment">Esto se puede lograr utilizando la familia de funciones join en dplyr.</li>
<li class="fragment">Existen diferentes tipos de uniones, que se pueden representar mediante una serie de diagramas de Venn:</li>
</ul>
</div>
<div class="fragment">
<p><img data-src="imagenes/Captura.PNG"></p>
<aside class="notes">
<ul>
<li>Supongamos que queremos unir el dataframe X con el dataframe Y.</li>
<li>Acá podemos ver que existen distintos tipos de uniones.</li>
<li>El inner_join devuelve solo las filas coincidentes de ambos dataframes, excluyendo las filas que no coinciden.</li>
<li>El left_join devuelve todas las filas del dataframe izquierdo (o primero) y las filas coincidentes del dataframe derecho (o segundo). Las filas que no coinciden en el dataframe derecho se llenan con NA.</li>
<li>El right_join devuelve todas las filas del dataframe derecho (o segundo) y las filas coincidentes del dataframe izquierdo (o primero). Las filas que no coinciden en el dataframe izquierdo se llenan con NA.</li>
<li>El full_join devuelve todas las filas de ambos dataframe, incluidas las filas coincidentes y no coincidentes. Las filas que no coinciden se rellenan con NA.</li>
<li>El anti_join devuelve solo las filas del primer dataframe que no coinciden en el segundo dataframe.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="unión-de-tablas-left_join" class="slide level2">
<h2>Unión de tablas: left_join</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>band_instruments</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  plays 
  &lt;chr&gt; &lt;chr&gt; 
1 John  guitar
2 Paul  bass  
3 Keith guitar</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>band_members <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(band_instruments, <span class="at">by =</span> <span class="st">"name"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  </code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Aca tenemos un dataframe llamado band_members con las columnas “name”, que contiene el nombre de los artistas, y “band” que contiene la banda a la cual pertenece cada uno.</li>
<li>En band_instruments también tenemos una columna llamada “name” con el nombre del artista, y una columna llamada “plays” que contiene el instrumento que cada artista toca.</li>
<li>Queremos hacer un left_join entre band_members y band_instruments para pegar la columna “plays” al dataframe band_members.</li>
<li>Esto lo hacemos usando “name” como variable identificadora,</li>
<li>Por ejemplo, el nombre John aparece en ambos dataframes entonces se encontró un pareo entre ambos dataframes.</li>
<li>En el dataframe resultante ahora John tiene asignado su instrumento que es la guitarra.</li>
<li>Sin embargo, Mick de los Stones no aparece en band_instruments, entonces luego de hacer el left_join en la columna plays queda como un NA porque no se encontró un pareo.</li>
<li>Acá se mantienen todas las filas del dataframe de la derecha (band_members) y se rellenan con NA los registros que no hicieron match con el dataframe de la izquierda (band_instruments)</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="unión-de-tablas-left_join-1" class="slide level2">
<h2>Unión de tablas: left_join</h2>
<div class="small-par">
<ul>
<li class="fragment">Qué pasa si el nombre de las columnas identificadoras no son iguales?</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>band_instruments2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  artist plays 
  &lt;chr&gt;  &lt;chr&gt; 
1 John   guitar
2 Paul   bass  
3 Keith  guitar</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>band_members <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(band_instruments2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span><span class="ot">=</span><span class="st">"artist"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  </code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>En este ejemplo podemos ver que ahora en el dataframe band_instruments2 el nombre de columna name cambió a artist. Sin embargo, sigue conteniendo la misma información que en el caso anterior, es decir, los nombres de los artistas y queremos que esta variable siga siendo nuestra variable identificadora.</li>
<li>Acá para hacer el left_join tenemos que especificar en el argumento by que queremos unir ambos dataframes usando name = artist, es decir, le estamos diciendo a la función que la columna name y la columna artist son las variables por las cuales queremos unir.</li>
<li>Obtenemos el mismo resultado que en el ejemplo anterior.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="unión-de-tablas-left_join-2" class="slide level2">
<h2>Unión de tablas: left_join</h2>
<div class="small-par">
<ul>
<li class="fragment">Qué pasa si necesitamos más de una variable identificadora?</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># Conjunto de datos de ventas</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>ventas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">vendedor =</span> <span class="fu">c</span>(<span class="st">"Juan"</span>, <span class="st">"María"</span>, <span class="st">"Juan"</span>, <span class="st">"Pedro"</span>, <span class="st">"María"</span>, <span class="st">"Pedro"</span>),</span>
<span id="cb32-3"><a href="#cb32-3"></a>                     <span class="at">departamento =</span> <span class="fu">c</span>(<span class="st">"Marketing"</span>, <span class="st">"Marketing"</span>, <span class="st">"Ventas"</span>, <span class="st">"Ventas"</span>, <span class="st">"Marketing"</span>, <span class="st">"Ventas"</span>),</span>
<span id="cb32-4"><a href="#cb32-4"></a>                     <span class="at">ventas =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">120</span>, <span class="dv">180</span>, <span class="dv">160</span>))</span>
<span id="cb32-5"><a href="#cb32-5"></a>ventas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  vendedor departamento ventas
1     Juan    Marketing    100
2    María    Marketing    150
3     Juan       Ventas    200
4    Pedro       Ventas    120
5    María    Marketing    180
6    Pedro       Ventas    160</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Conjunto de datos de vendedores</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>vendedores <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">vendedor =</span> <span class="fu">c</span>(<span class="st">"Juan"</span>, <span class="st">"María"</span>, <span class="st">"Pedro"</span>, <span class="st">"Juan"</span>),</span>
<span id="cb34-3"><a href="#cb34-3"></a>                         <span class="at">departamento =</span> <span class="fu">c</span>(<span class="st">"Ventas"</span>, <span class="st">"Marketing"</span>, <span class="st">"Ventas"</span>, <span class="st">"Marketing"</span>),</span>
<span id="cb34-4"><a href="#cb34-4"></a>                         <span class="at">experiencia =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">2</span>))</span>
<span id="cb34-5"><a href="#cb34-5"></a>vendedores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  vendedor departamento experiencia
1     Juan       Ventas           5
2    María    Marketing           7
3    Pedro       Ventas           3
4     Juan    Marketing           2</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Hasta ahora hemos visto que para hacer un join necesitamos una variable identificadora o llave. Esta es una variable o conjunto de variables que identifica de forma única cada observación.</li>
<li>En este ejemplo tenemos un dataframe llamado ventas que contiene las columnas vendedor, departamento y ventas. También tenemos un dataframe llamado vendedores con las columnas vendedor, departamento y experiencia.</li>
<li>Queremos hacer un left_join de ventas con vendedores para obtener la columna experiencia.</li>
<li>Sin embargo, vemos que la columna vendedor del dataframe vendedores no es un indentificador único de personas porque Juan se repite más de una vez en el dataframe. Pero si usamos la combinación vendedor y departamento podemos obtener combinaciones únicas de personas. Entonces al hacer el left_join usamos en el argumento by ambas columnas.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>ventas <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(vendedores, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"vendedor"</span>,<span class="st">"departamento"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  vendedor departamento ventas experiencia
1     Juan    Marketing    100           2
2    María    Marketing    150           7
3     Juan       Ventas    200           5
4    Pedro       Ventas    120           3
5    María    Marketing    180           7
6    Pedro       Ventas    160           3</code></pre>
</div>
</div>
</div>
</section>
<section id="unión-de-tablas-right_join" class="slide level2">
<h2>Unión de tablas: right_join</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>band_instruments</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  plays 
  &lt;chr&gt; &lt;chr&gt; 
1 John  guitar
2 Paul  bass  
3 Keith guitar</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>band_members <span class="sc">%&gt;%</span> <span class="fu">right_join</span>(band_instruments, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 John  Beatles guitar
2 Paul  Beatles bass  
3 Keith &lt;NA&gt;    guitar</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>En este ejemplo estamos haciendo un right_join entre band_members y band_instruments, utilizando como llave la columna “name”.</li>
<li>Podemos ver que todas las filas del lado izquierdo, es decir, de band_instruments se mantienen. Al revés del left_join donde todas las filas del lado derecho se mantienen.</li>
<li>En este caso, solamente John y Paul hicieron match y Keith no lo hizo por lo que se le asigna un NA en la columna band.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="unión-de-tablas-full_join" class="slide level2">
<h2>Unión de tablas: full_join</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>band_instruments</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  plays 
  &lt;chr&gt; &lt;chr&gt; 
1 John  guitar
2 Paul  bass  
3 Keith guitar</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>band_members <span class="sc">%&gt;%</span> <span class="fu">full_join</span>(band_instruments, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  name  band    plays 
  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
1 Mick  Stones  &lt;NA&gt;  
2 John  Beatles guitar
3 Paul  Beatles bass  
4 Keith &lt;NA&gt;    guitar</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>En el caso del full_join se mantienen todas las filas, tanto las del dataframe band_members como las de band_instruments.</li>
<li>Por ej, Mick de la banda Stones no se encuentra en band_instruments por lo que en la columna plays se le asigna un NA.</li>
<li>John y Paul son los únicos registros que hicieron match por lo que tienen una banda y un instrumento asignado.</li>
<li>Keith se encontró solamente en band_instruments por lo que no tiene asignado una banda y se rellenó con un NA.</li>
<li>En este caso el dataframe resultante tiene más filas porque no descartó a ningún artista, incluso a los que no hicieron match.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="unión-de-tablas-anti_join" class="slide level2">
<h2>Unión de tablas: anti_join</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>band_members</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  band   
  &lt;chr&gt; &lt;chr&gt;  
1 Mick  Stones 
2 John  Beatles
3 Paul  Beatles</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>band_instruments</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  name  plays 
  &lt;chr&gt; &lt;chr&gt; 
1 John  guitar
2 Paul  bass  
3 Keith guitar</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>band_members <span class="sc">%&gt;%</span> <span class="fu">anti_join</span>(band_instruments, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  name  band  
  &lt;chr&gt; &lt;chr&gt; 
1 Mick  Stones</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>El anti_join devuelve solo las filas que no hicieron match con el dataframe izquierdo, es decir, con band_instruments.</li>
<li>En este caso Mick de los Stones no hizo match con band_instruments y el anti_join devolvió solo esa fila.</li>
<li>Esta función es útil para conocer las filas que se están rellenando con NA al hacer el left_join.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ejercicio-2" class="slide level2">
<h2>Ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Para este ejercicio usaremos varias bases provenientes del paquete “nycflights13”.</li>
<li class="fragment">Este paquete contiene 5 dataframes:
<ul>
<li class="fragment"><strong>flights</strong>: contiene información de todos los vuelos.</li>
<li class="fragment"><strong>airlines</strong>: contiene el código de cada aerolínea (“carrier”) y su nombre completo (“name”). La columna “carrier” identifica a cada aerolínea en el dataframe “fligts”, lo que la convierte en la llave principal para la unión.</li>
<li class="fragment"><strong>airports</strong>: contiene el nombre y localización de los aeropuertos. Puede identifcar cada aeropuerto por su código de tres letras (“faa”), haciendo de esta columna en la llave principal para la unión con “flights”.</li>
<li class="fragment"><strong>planes</strong>: registra información de construcción sobre cada uno de los aviones utilizados. Puede identificar un avión por su número de cola (“tailnum”), haciendo “tailnum” en la llave principal para la unión con “flights”.</li>
<li class="fragment"><strong>weather</strong>: registra datos meteorológicos por hora para cada uno de los tres aeropuertos de Nueva York. Puede identificar cada observación mediante la combinación ubicación y hora, haciendo que “origin” y “time_hour” sean la llave principal compuesta.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><img data-src="imagenes/vuelos.PNG"></p>
</div>
</section>
<section id="ejercicio-2-1" class="slide level2">
<h2>Ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Instale y cargue el paquete “nycflights13”.</li>
<li class="fragment">Sobrescriba el dataframe “flights” seleccionando las columnas “time_hour”, “origin”, “dest”, “tailnum” y “carrier”.</li>
<li class="fragment">Haga un left_join entre “flights” y “airlines” usando la llave correspondiente.</li>
<li class="fragment">Haga un left_join entre “flights” y “planes” usando la llave correspondiente.</li>
<li class="fragment">Haga un left_join entre “flights” y “weather” usando las llaves correspondientes.</li>
<li class="fragment">Haga un anti_join entre “flights” y “planes” usando la llave correspondiente.</li>
</ul>
</div>
</section>
<section id="solución-ejercicio-2" class="slide level2">
<h2>Solución ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Instale y cargue el paquete “nycflights13”.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co">#install.packages("nycflights13")</span></span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="fu">library</span>(nycflights13)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="solución-ejercicio-2-1" class="slide level2">
<h2>Solución ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Sobrescriba el dataframe “flights” seleccionando las columnas “time_hour”, “origin”, “dest”, “tailnum” y “carrier”.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>flights <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">select</span>(time_hour, origin, dest, tailnum, carrier)</span>
<span id="cb57-3"><a href="#cb57-3"></a>flights</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 5
   time_hour           origin dest  tailnum carrier
   &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  
 1 2013-01-01 05:00:00 EWR    IAH   N14228  UA     
 2 2013-01-01 05:00:00 LGA    IAH   N24211  UA     
 3 2013-01-01 05:00:00 JFK    MIA   N619AA  AA     
 4 2013-01-01 05:00:00 JFK    BQN   N804JB  B6     
 5 2013-01-01 06:00:00 LGA    ATL   N668DN  DL     
 6 2013-01-01 05:00:00 EWR    ORD   N39463  UA     
 7 2013-01-01 06:00:00 EWR    FLL   N516JB  B6     
 8 2013-01-01 06:00:00 LGA    IAD   N829AS  EV     
 9 2013-01-01 06:00:00 JFK    MCO   N593JB  B6     
10 2013-01-01 06:00:00 LGA    ORD   N3ALAA  AA     
# ℹ 336,766 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-2-2" class="slide level2">
<h2>Solución ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Haga un left_join entre “flights” y “airlines” usando la llave correspondiente.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">left_join</span>(airlines, <span class="at">by =</span> <span class="st">"carrier"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 6
   time_hour           origin dest  tailnum carrier name                    
   &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;                   
 1 2013-01-01 05:00:00 EWR    IAH   N14228  UA      United Air Lines Inc.   
 2 2013-01-01 05:00:00 LGA    IAH   N24211  UA      United Air Lines Inc.   
 3 2013-01-01 05:00:00 JFK    MIA   N619AA  AA      American Airlines Inc.  
 4 2013-01-01 05:00:00 JFK    BQN   N804JB  B6      JetBlue Airways         
 5 2013-01-01 06:00:00 LGA    ATL   N668DN  DL      Delta Air Lines Inc.    
 6 2013-01-01 05:00:00 EWR    ORD   N39463  UA      United Air Lines Inc.   
 7 2013-01-01 06:00:00 EWR    FLL   N516JB  B6      JetBlue Airways         
 8 2013-01-01 06:00:00 LGA    IAD   N829AS  EV      ExpressJet Airlines Inc.
 9 2013-01-01 06:00:00 JFK    MCO   N593JB  B6      JetBlue Airways         
10 2013-01-01 06:00:00 LGA    ORD   N3ALAA  AA      American Airlines Inc.  
# ℹ 336,766 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-2-3" class="slide level2">
<h2>Solución ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Haga un left_join entre “flights” y “planes” usando la llave correspondiente.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">left_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 13
   time_hour           origin dest  tailnum carrier  year type      manufacturer
   &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     &lt;chr&gt;       
 1 2013-01-01 05:00:00 EWR    IAH   N14228  UA       1999 Fixed wi… BOEING      
 2 2013-01-01 05:00:00 LGA    IAH   N24211  UA       1998 Fixed wi… BOEING      
 3 2013-01-01 05:00:00 JFK    MIA   N619AA  AA       1990 Fixed wi… BOEING      
 4 2013-01-01 05:00:00 JFK    BQN   N804JB  B6       2012 Fixed wi… AIRBUS      
 5 2013-01-01 06:00:00 LGA    ATL   N668DN  DL       1991 Fixed wi… BOEING      
 6 2013-01-01 05:00:00 EWR    ORD   N39463  UA       2012 Fixed wi… BOEING      
 7 2013-01-01 06:00:00 EWR    FLL   N516JB  B6       2000 Fixed wi… AIRBUS INDU…
 8 2013-01-01 06:00:00 LGA    IAD   N829AS  EV       1998 Fixed wi… CANADAIR    
 9 2013-01-01 06:00:00 JFK    MCO   N593JB  B6       2004 Fixed wi… AIRBUS      
10 2013-01-01 06:00:00 LGA    ORD   N3ALAA  AA         NA &lt;NA&gt;      &lt;NA&gt;        
# ℹ 336,766 more rows
# ℹ 5 more variables: model &lt;chr&gt;, engines &lt;int&gt;, seats &lt;int&gt;, speed &lt;int&gt;,
#   engine &lt;chr&gt;</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Acá podemos ver que el código de cola o tailnum N3ALAA tiene NA en las columnas que se pegaron porque no hay información acerca del avión con ese código de cola, es decir no hubo match, entonces esos valores se reemplazan por NA</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="solución-ejercicio-2-4" class="slide level2">
<h2>Solución ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Haga un left_join entre “flights” y “weather” usando las llaves correspondientes.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">left_join</span>(weather, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"time_hour"</span>, <span class="st">"origin"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 18
   time_hour           origin dest  tailnum carrier  year month   day  hour
   &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1 2013-01-01 05:00:00 EWR    IAH   N14228  UA       2013     1     1     5
 2 2013-01-01 05:00:00 LGA    IAH   N24211  UA       2013     1     1     5
 3 2013-01-01 05:00:00 JFK    MIA   N619AA  AA       2013     1     1     5
 4 2013-01-01 05:00:00 JFK    BQN   N804JB  B6       2013     1     1     5
 5 2013-01-01 06:00:00 LGA    ATL   N668DN  DL       2013     1     1     6
 6 2013-01-01 05:00:00 EWR    ORD   N39463  UA       2013     1     1     5
 7 2013-01-01 06:00:00 EWR    FLL   N516JB  B6       2013     1     1     6
 8 2013-01-01 06:00:00 LGA    IAD   N829AS  EV       2013     1     1     6
 9 2013-01-01 06:00:00 JFK    MCO   N593JB  B6       2013     1     1     6
10 2013-01-01 06:00:00 LGA    ORD   N3ALAA  AA       2013     1     1     6
# ℹ 336,766 more rows
# ℹ 9 more variables: temp &lt;dbl&gt;, dewp &lt;dbl&gt;, humid &lt;dbl&gt;, wind_dir &lt;dbl&gt;,
#   wind_speed &lt;dbl&gt;, wind_gust &lt;dbl&gt;, precip &lt;dbl&gt;, pressure &lt;dbl&gt;,
#   visib &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-2-5" class="slide level2">
<h2>Solución ejercicio 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Haga un anti_join entre “flights” y “planes” usando la llave correspondiente.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb65-2"><a href="#cb65-2"></a>  <span class="fu">anti_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52,606 × 5
   time_hour           origin dest  tailnum carrier
   &lt;dttm&gt;              &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  
 1 2013-01-01 06:00:00 LGA    ORD   N3ALAA  AA     
 2 2013-01-01 06:00:00 LGA    DFW   N3DUAA  AA     
 3 2013-01-01 06:00:00 LGA    ATL   N542MQ  MQ     
 4 2013-01-01 06:00:00 LGA    DTW   N730MQ  MQ     
 5 2013-01-01 06:00:00 EWR    ORD   N9EAMQ  MQ     
 6 2013-01-01 06:00:00 JFK    SFO   N532UA  UA     
 7 2013-01-01 06:00:00 LGA    MIA   N3EMAA  AA     
 8 2013-01-01 06:00:00 LGA    MSP   N518MQ  MQ     
 9 2013-01-01 06:00:00 JFK    SJU   N3BAAA  AA     
10 2013-01-01 06:00:00 LGA    ORD   N3CYAA  AA     
# ℹ 52,596 more rows</code></pre>
</div>
</div>
<aside class="notes">
<ul>
<li>Acá el anti_join retorna todas las filas de flights2 que no hicieron match con planes. Esto nos permite conocer cuáles filas están siendo rellenadas con NA.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment"><strong>ggplot2</strong> es un paquete popular de visualización de datos en el lenguaje de programación R.</li>
<li class="fragment">Permite a los usuarios crear una amplia variedad de gráficos estadísticos personalizables y de alta calidad, lo que lo convierte en una herramienta valiosa para la exploración y presentación de datos.</li>
<li class="fragment">El término ggplot2 se relaciona con el nombre del paquete.</li>
<li class="fragment">Usamos la función ggplot() para producir los gráficos cuando usamos el paquete. Por lo tanto, ggplot() es el comando y el paquete completo se llama ggplot2.</li>
<li class="fragment">Los gráficos se componen de capas, cada una definida por su propio conjunto de reglas.</li>
</ul>
</div>
<div class="fragment">
<p><img data-src="imagenes/ggplot_capas.PNG"></p>
<aside class="notes">
<ul>
<li>Dentro de las capas más utilizadas tenemos:
<ul>
<li>data: Esta es la capa base donde se especifican los datos que se utilizarán para crear el gráfico.</li>
<li>Estética: La estética controla cómo se visualizan los datos en el gráfico. Puedes mapear variables a propiedades visuales como color, forma, tamaño, etc., utilizando la función aes()</li>
<li>Geometrías: Las geometrías determinan el tipo de gráfico que se creará</li>
<li>Facetas (facet): Las facetas permiten dividir el gráfico en múltiples paneles, cada uno de los cuales muestra una porción de los datos.</li>
<li>La quinta capa es la capa de estadísticas, donde el paquete utiliza diferentes funciones estadísticas (por ejemplo, media, desviación estándar, recuentos, etc.) para producir nuevos valores que luego se pueden representar en el gráfico.</li>
<li>La sexta capa trabaja con elementos conectados a las coordenadas del gráfico. Estas características son un poco más avanzadas. Pero, esta capa nos permite crear gráficos circulares, establecer el tamaño del gráfico e incluso ubicar elementos específicos, como etiquetas de texto, en partes específicas de un gráfico.</li>
<li>La última capa incluye todos los elementos del tema.Sse utiliza para personalizar el aspecto visual del gráfico, como los ejes, la leyenda, los títulos, los márgenes y otras características relacionadas con el diseño y la apariencia del gráfico en general.</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-1" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Veamos cómo hacer un gráfico de barras simple usando geom_bar</li>
<li class="fragment">Para esto usaremos la base llamada “gapminder”</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="co">#install.packages("gapminder")</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="fu">summary</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        country        continent        year         lifeExp     
 Afghanistan:  12   Africa  :624   Min.   :1952   Min.   :23.60  
 Albania    :  12   Americas:300   1st Qu.:1966   1st Qu.:48.20  
 Algeria    :  12   Asia    :396   Median :1980   Median :60.71  
 Angola     :  12   Europe  :360   Mean   :1980   Mean   :59.47  
 Argentina  :  12   Oceania : 24   3rd Qu.:1993   3rd Qu.:70.85  
 Australia  :  12                  Max.   :2007   Max.   :82.60  
 (Other)    :1632                                                
      pop              gdpPercap       
 Min.   :6.001e+04   Min.   :   241.2  
 1st Qu.:2.794e+06   1st Qu.:  1202.1  
 Median :7.024e+06   Median :  3531.8  
 Mean   :2.960e+07   Mean   :  7215.3  
 3rd Qu.:1.959e+07   3rd Qu.:  9325.5  
 Max.   :1.319e+09   Max.   :113523.1  
                                       </code></pre>
</div>
</div>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-2" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-3"><a href="#cb69-3"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb69-4"><a href="#cb69-4"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb69-5"><a href="#cb69-5"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb69-6"><a href="#cb69-6"></a>  <span class="fu">aes</span>(<span class="at">x =</span> continent) <span class="sc">+</span></span>
<span id="cb69-7"><a href="#cb69-7"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-29-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>Aquí, utilizamos el dataframe gapminder y filtramos para el año 2007. Luego usamos la función ggplot() para decirle a R que queremos generar un gráfico. De aquí en adelante utilizamos el signo + para ir añadiendo más capas al gráfico</li>
<li>Dentro de la función aes() (capa estétitca), estamos asignando la variable continente al eje x con x = continent. Hay 5 categorías en la variable continente y aparecen en el eje x del gráfico.</li>
<li>La función aes() nos permite asignar variables de nuestro dataframe a los atributos estéticos del gráfico.</li>
<li>geom_bar() (capa geométrica) especifica que queremos trazar un gráfico de barras.</li>
<li>Cuando creamos un gráfico de barras, siempre necesitamos asignar una variable categórica al eje x o y.</li>
<li>Acá no asignamos ninguna variable al eje y. Debido a esto, por defecto, ggplot simplemente contó el número de registros por categoría (es decir, por continente). Entonces, la longitud de la barra (el eje y, en este caso) representa el recuento del número de registros.</li>
<li>Por ejemplo, Oceanía tiene solamente dos registros en el 2007, que en este caso son dos países.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="visualización-de-datos-con-ggplot-3" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Veamos cómo hacer un gráfico de barras seteando la longitud de la barra</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a href="#cb70-3"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb70-4"><a href="#cb70-4"></a>  <span class="fu">summarise</span>(<span class="at">gdpPercap_prom =</span> <span class="fu">mean</span>(gdpPercap)) <span class="sc">%&gt;%</span> </span>
<span id="cb70-5"><a href="#cb70-5"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb70-6"><a href="#cb70-6"></a>  <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> gdpPercap_prom) <span class="sc">+</span></span>
<span id="cb70-7"><a href="#cb70-7"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-30-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>Supongamos que queremos graficar el pib per cápita promedio de cada continente para el año 2007.</li>
<li>Nuevamente seteamos la variable categórica (continente) en el eje x.</li>
<li>Pero en esta visualización establecemos el eje y como el pib per cápita promedio, es decir, la longitud de la barra representa un valor contenido en una variable, en este caso, gdpPercap_prom</li>
<li>Adicionalmente, para que esto funcione, agregamos un parámetro adicional dentro de geom_bar llamado stat.</li>
<li>Al establecer stat = ‘identity’, le estamos diciendo a ggplot que en lugar de realizar una operación estadística (es decir, contar los registros), le estamos diciendo a ggplot que la longitud de la barra debe ser “idéntica” al valor de la variable numérica pib per capita promedio</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-4" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Podemos agregar más elementos como títulos, colores y etiquetas…</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="#cb71-3"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb71-4"><a href="#cb71-4"></a>  <span class="fu">summarise</span>(<span class="at">gdpPercap_prom =</span> <span class="fu">mean</span>(gdpPercap)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-5"><a href="#cb71-5"></a>  <span class="fu">mutate</span>(<span class="at">gdpPercap_prom =</span> <span class="fu">round</span>(gdpPercap_prom, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href="#cb71-6"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb71-7"><a href="#cb71-7"></a>  <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> gdpPercap_prom, <span class="at">label =</span> gdpPercap_prom) <span class="sc">+</span></span>
<span id="cb71-8"><a href="#cb71-8"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb71-9"><a href="#cb71-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Continente"</span>, <span class="at">y =</span> <span class="st">"PIB per cápita promedio"</span>, <span class="at">title =</span> <span class="st">"PIB per cápita promedio por continente (2017)"</span>) <span class="sc">+</span></span>
<span id="cb71-10"><a href="#cb71-10"></a>  <span class="fu">geom_label</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-31-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>Al gráfico anterior también podemos agregarle etiquetas, colores y títulos.</li>
<li>Por ejemplo, para agregar las etiquetas a las columnas se establece un tercer parámetro dentro de la función aes llamado label para decirle a ggplot que queremos que nuestras etiquetas sean el pib per cápita promedio.</li>
<li>Luego se añade la capa geom_label para que aparezcan las etiquetas sobre las barras.</li>
<li>Para setear un color a las barras debemos usar el parámetro fill dentro de geom_bar para que rellene con el color azul.</li>
<li>Finalmente, los títulos de los ejes y del gráfico se pueden establecer con la función labs.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-5" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Colocando barras una al lado de la otra usando position = “dodge”</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="#cb72-2"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">1997</span> <span class="sc">|</span> year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="#cb72-3"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Chile"</span>, <span class="st">"Argentina"</span>, <span class="st">"Bolivia"</span>, <span class="st">"Brazil"</span>, <span class="st">"Colombia"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb72-4"><a href="#cb72-4"></a>  <span class="fu">mutate</span>(<span class="at">pop =</span> pop<span class="sc">/</span><span class="dv">1000</span>,</span>
<span id="cb72-5"><a href="#cb72-5"></a>         <span class="at">year =</span> <span class="fu">as.factor</span>(year)) <span class="sc">%&gt;%</span> </span>
<span id="cb72-6"><a href="#cb72-6"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb72-7"><a href="#cb72-7"></a>  <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> pop, <span class="at">fill =</span> year) <span class="sc">+</span></span>
<span id="cb72-8"><a href="#cb72-8"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb72-9"><a href="#cb72-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"País"</span>, <span class="at">y =</span> <span class="st">"Población (en miles)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-32-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>En este ejemplo filtramos la base para los años 1997 y 2007. Luego seleccionamos los países Chile, Argentina, Bolivia, Brazil y Colombia. Luego usando un mutate modificamos la variable población como población dividido en mil, y convertimos el año en una variable tipo factor (esto lo hacemos para que al gráficar ggplot no tome la variable como una variable númerica contínua, sino que como una variable categórica que puede tomar dos valores 1997 y 2007)</li>
<li>Usamos la función ggplot para decirle a R que queremos hacer un gráfico.</li>
<li>Con aes le decimos que queremos que en el eje x aparezcan los países y en el eje y el valor de la población, y usando fill = year le decimos que queremos que rellene las barras según el año.</li>
<li>En geom_bar asignamos stat = “identity” para que el largo de las barras sea exactamente el valor de la población y se agrega un parámetro adicional llamado position para establecer que las barras queden una al lado de la otra y no una encima de la otra que es lo hace por defecto si no establecemos este parámetro.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-6" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Hacer gráficos de líneas usando geom_line()</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3"></a>  <span class="fu">summarise</span>(<span class="at">lifeExp_prom =</span> <span class="fu">mean</span>(lifeExp)) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb73-5"><a href="#cb73-5"></a>  <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp_prom, <span class="at">color =</span> continent) <span class="sc">+</span></span>
<span id="cb73-6"><a href="#cb73-6"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-33-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>En este ejemplo queremos gráficar la serie histórica de la esperanza de vida promedio de cada continente.</li>
<li>Para esto agrupamos por continente y por año y luego calculamos la esperanza de vida promedio usando la función mean</li>
<li>De manera muy similiar a geom_bar, lo que hacemos es setear en la función aes al eje x como año y al eje y como la esperanza de vida promedio.</li>
<li>Agregamos un tercer argumento en aes llamado color para que cada continente tenga un color y se genere una leyenda.</li>
<li>Finalmente, usamos geom_line para decirle a ggplot que queremos hacer una gráfico de líneas</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-7" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Hacer gráficos de puntos o scatterplot usando geom_ponit()</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(gdpPercap), <span class="at">y =</span> lifeExp) <span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-34-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>En esté ejemplo estamos generando un gráfico de puntos o scatterplot</li>
<li>En el eje x establecemos el logaritmo del PIB per cápita usando la función log(). Esto lo hacemos para obtener una relación más lineal entre el pib per capita y la esperanza de vida que se asigna al eje y.</li>
<li>Luego usamos la función geom_point para decirle a ggplot que queremos un gráfico de puntos.</li>
<li>Podemos ver que a medida que aumenta el PIB per cápita también lo hace la esperanza de vida de los países</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-8" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Hacer gráficos de puntos o scatterplot usando geom_ponit()</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(gdpPercap), <span class="at">y =</span> lifeExp, <span class="at">color=</span>continent) <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-35-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>Si usamos el argumento color dentro de aes() podemos agrupar los puntos para cada continente.</li>
<li>Acá podemos ver que lo países del continente africano presentan menores niveles de pib per cápita y de esperanza de vida en comparación a los países europeos.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="visualización-de-datos-con-ggplot-9" class="slide level2">
<h2>Visualización de datos con ggplot</h2>
<div class="small-par">
<ul>
<li class="fragment">Usando facet_wrap()</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="#cb76-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb76-3"><a href="#cb76-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(gdpPercap), <span class="at">y =</span> lifeExp, <span class="at">color=</span>continent) <span class="sc">+</span></span>
<span id="cb76-4"><a href="#cb76-4"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb76-5"><a href="#cb76-5"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-36-1.png" width="960"></p>
</div>
</div>
<aside class="notes">
<ul>
<li>Acá agregamos otra función de ggplot que se llama facet_wrap.</li>
<li>Esta función nos permite dividir el gráfico en múltiples paneles donde cada uno muestra una porción de los datos.</li>
<li>En este ejemplo cada panel está dividido por continente.</li>
<li>Dentro de facet_wrap hay que poner la virgulilla y la variable que queremos que divida los datos.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="ejercicio-3" class="slide level2">
<h2>Ejercicio 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Genere un gráfico de barras simple que cuente el número de veces que aparece cada aerolínea usando el dataframe “vuelos”.</li>
<li class="fragment">Para generar el siguiente gráfico de barras, agrupe el dataframe por “aerolínea” y usando la función summarise() calcule la distancia promedio, llamando a esta variable “dist_prom”. Utilice ggplot para generar un gráfico de barras donde el largo del eje y sea la distancia promedio de cada aerolínea.</li>
<li class="fragment">Genere un gráfico de líneas agrupando el dataframe por “mes” y “origen”, y usando la función summarise() calcule el tiempo de vuelo promedio, llamando a esta variable “tiempo_prom”. Utilice ggplot para generar un gráfico de líneas donde el eje x sea el “mes” y el eje y sea “tiempo_prom”. Agregue el parámetro color = origen dentro de aes() para que cada línea tenga su color.</li>
<li class="fragment">Filtre las filas del dataframe “vuelos” donde destino sea igual a “ATL” y replique el siguiente gráfico:</li>
</ul>
</div>
</section>
<section id="ejercicio-3-1" class="slide level2">
<h2>Ejercicio 3</h2>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-37-1.png" width="960"></p>
</div>
</div>
</section>
<section id="solución-ejercicio-3" class="slide level2">
<h2>Solución ejercicio 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Genere un gráfico de barras simple que cuente el número de veces que aparece cada aerolínea usando el dataframe “vuelos”.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">library</span>(datos)</span>
<span id="cb77-2"><a href="#cb77-2"></a>vuelos <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb77-4"><a href="#cb77-4"></a>  <span class="fu">aes</span>(<span class="at">x =</span> aerolinea) <span class="sc">+</span></span>
<span id="cb77-5"><a href="#cb77-5"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-38-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-3-1" class="slide level2">
<h2>Solución ejercicio 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Para generar el siguiente gráfico de barras, agrupe el dataframe por “aerolínea” y usando la función summarise() calcule la distancia promedio, llamando a esta variable “dist_prom”. Utilice ggplot para generar un gráfico de barras donde el largo del eje y sea la distancia promedio de cada aerolínea.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>vuelos <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href="#cb78-2"></a>  <span class="fu">group_by</span>(aerolinea) <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3"></a>  <span class="fu">summarise</span>(<span class="at">dist_prom =</span> <span class="fu">mean</span>(distancia, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb78-4"><a href="#cb78-4"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb78-5"><a href="#cb78-5"></a>  <span class="fu">aes</span>(<span class="at">x =</span> aerolinea, <span class="at">y =</span> dist_prom) <span class="sc">+</span></span>
<span id="cb78-6"><a href="#cb78-6"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-39-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-3-2" class="slide level2">
<h2>Solución ejercicio 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Genere un gráfico de líneas agrupando el dataframe por “mes” y “origen”, y usando la función summarise() calcule el tiempo de vuelo promedio, llamando a esta variable “tiempo_prom”. Utilice ggplot para generar un gráfico de líneas donde el eje x sea el “mes” y el eje y sea “tiempo_prom”. Agregue el parámetro color = origen dentro de aes() para que cada línea tenga su color. <strong>Nota</strong>: utilice el argumento na.rm = TRUE dentro de la función mean() para que no tome en cuenta los valores NA.</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>vuelos <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="#cb79-2"></a>  <span class="fu">group_by</span>(mes, origen) <span class="sc">%&gt;%</span> </span>
<span id="cb79-3"><a href="#cb79-3"></a>  <span class="fu">summarise</span>(<span class="at">tiempo_prom =</span> <span class="fu">mean</span>(tiempo_vuelo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb79-4"><a href="#cb79-4"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb79-5"><a href="#cb79-5"></a>  <span class="fu">aes</span>(<span class="at">x =</span> mes, <span class="at">y =</span> tiempo_prom, <span class="at">color =</span> origen) <span class="sc">+</span></span>
<span id="cb79-6"><a href="#cb79-6"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-40-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="solución-ejercicio-3-3" class="slide level2">
<h2>Solución ejercicio 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Filtre las filas del dataframe “vuelos” donde destino sea igual a “ATL” y replique el siguiente gráfico:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>vuelos <span class="sc">%&gt;%</span> </span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">filter</span>(destino <span class="sc">==</span> <span class="st">"ATL"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href="#cb80-3"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb80-4"><a href="#cb80-4"></a>  <span class="fu">aes</span>(<span class="at">x =</span> atraso_salida, <span class="at">y =</span> atraso_llegada, <span class="at">color =</span> origen) <span class="sc">+</span></span>
<span id="cb80-5"><a href="#cb80-5"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb80-6"><a href="#cb80-6"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>origen)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-41-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="tarea-3" class="slide level2">
<h2>Tarea 3</h2>
<div class="small-par">
<ul>
<li class="fragment">La <strong>Encuesta Mensual de Alojamiento Turístico (EMAT)</strong> tiene como objetivo general estimar mensualmente la evolución de la actividad económica desarrollada por los establecimientos de alojamiento turístico (EAT); con representación a nivel nacional, regional y por destino turístico.</li>
<li class="fragment">Para esta tarea usaremos la base de esta encuesta, cuyas variables son las siguientes:
<ul>
<li class="fragment"><strong>mes</strong>: mes de funcionamiento del establecimiento.</li>
<li class="fragment"><strong>anio</strong>: año de funcionamiento del establecimiento.</li>
<li class="fragment"><strong>fecha</strong>: fecha de funcionamiento del establecimiento.</li>
<li class="fragment"><strong>clase</strong>: establecimiento clasificado como Hotel (hotel y apart-hotel), y Otros (hostales, hosterías, residenciales, cabañas y similares).</li>
<li class="fragment"><strong>region</strong>: nombre de la región.</li>
<li class="fragment"><strong>total_llegadas_exp</strong>: número total de pasajeros con residencia en Chile y en el extranjero que llegan a establecimientos de alojamiento turístico (expandido).</li>
<li class="fragment"><strong>total_pernoctaciones_exp</strong>: número total de noches que los pasajeros con residencia en Chile y en el extranjero alojan en el establecimiento de alojamiento turístico (expandido).</li>
</ul></li>
<li class="fragment">El plazo para recibir retroalimentación de esta tarea es de dos semanas.</li>
</ul>
</div>
</section>
<section id="tarea-3-1" class="slide level2">
<h2>Tarea 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Importe el archivo excel “emat.xlsx” de la carpeta data y asígnelo como “emat”.</li>
<li class="fragment">Agrupe el dataframe “emat” por “anio” y “region”, y calcule la suma del total de pernoctaciones expandidas utilizando el comando <code>summarise(suma_pernoctaciones = sum(total_pernoctaciones_exp))</code>. Utilice <code>pivot_wider()</code> para transformar el dataframe a formato ancho, usando como nombres de las columnas el “anio” y los valores “suma_pernoctaciones”. Utilice el argumento <code>names_prefix = "pernoctaciones_"</code> para asignarle un prefijo al nombre de las columnas. Almacene este dataframe como “pernoctaciones_wide”.</li>
<li class="fragment">Agrupe el dataframe “emat” por “anio” y “region”, y calcule la suma del total de llegadas expandidas utilizando el comando <code>summarise(suma_llegadas = sum(total_llegadas_exp))</code>. Utilice <code>pivot_wider()</code> para transformar el dataframe a formato ancho, usando como nombres de las columnas el “anio” y los valores “suma_llegadas”. Utilice el argumento <code>names_prefix = "llegadas_"</code> para asignarle un prefijo al nombre de las columnas. Almacene este dataframe como “llegadas_wide”.</li>
<li class="fragment">Haga un <code>left_join()</code> usando “pernoctaciones_wide” y “llegadas_wide” usando como variable llave “region”.</li>
<li class="fragment">Genere los siguientes gráficos:</li>
</ul>
</div>
</section>
<section id="tarea-3-gráfico-1" class="slide level2">
<h2>Tarea 3: gráfico 1</h2>
<div class="small-par">
<ul>
<li class="fragment">Filtre el dataframe “emat” donde el año sea igual al 2018.</li>
<li class="fragment">Luego, agrupe el dataframe por la variable “region” y calcule la suma de llegadas expandidas usando el comando <code>summarise(suma_llegadas = sum(total_llegadas_exp))</code>.<br>
</li>
<li class="fragment">Finalmente, genere un gráfico de barras mapeando en el eje x la suma de llegadas y en el eje y las regiones.</li>
<li class="fragment">El gráfico debería quedarle así:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-42-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="tarea-3-gráfico-2" class="slide level2">
<h2>Tarea 3: gráfico 2</h2>
<div class="small-par">
<ul>
<li class="fragment">Utilizando el dataframe “emat” y la función mutate() convierta la variable “anio” a tipo factor, usando el comando <code>mutate(anio = as.factor(anio))</code>.</li>
<li class="fragment">Luego filtre por las filas donde la clase sea distinto a NA, usando el comando <code>filter(!is.na(clase))</code>.</li>
<li class="fragment">Agrupe por “clase” y “anio”, y usando <code>summarise()</code> calcule la suma del total de pernoctaciones expandido. Llame a esta variable “suma_pernoctaciones”.</li>
<li class="fragment">Genere un gráfico de barras mapeando en el eje x “clase” y en el eje y “suma_pernoctaciones”.</li>
<li class="fragment">El color de cada barra debe corresponder al año y las barras deben quedar una al lado de la otra.</li>
<li class="fragment">Agregue títulos a los ejes y al gráfico.</li>
<li class="fragment">El gráfico debería quedarle así:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-43-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="tarea-3-gráfico-3" class="slide level2">
<h2>Tarea 3: gráfico 3</h2>
<div class="small-par">
<ul>
<li class="fragment">Filtre el dataframe “emat” donde el año sea igual al 2017.</li>
<li class="fragment">Genere un gráfico de puntos o scatterplot mapeando en el eje x “total_pernoctaciones_exp” y en el eje y “total_llegadas_exp”.</li>
<li class="fragment">El gráfico debería quedarle así:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-44-1.png" width="960"></p>
</div>
</div>
</div>
</section>
<section id="tarea-3-gráfico-4" class="slide level2">
<h2>Tarea 3: gráfico 4</h2>
<div class="small-par">
<ul>
<li class="fragment">Filtre el dataframe “emat” por las filas donde la clase sea distinto a NA, usando el comando <code>filter(!is.na(clase))</code>.</li>
<li class="fragment">Agrupe por “fecha” y “clase”, y calcule la suma de “total_llegadas_exp” usando <code>summarise()</code>. Llame a esta variable “suma_llegadas”.</li>
<li class="fragment">Genere un gráfico de líneas mapeando en el eje x “fecha” y en el eje y “suma_llegadas”. Adicionalmente, agregue el parámetro color para que cada línea tenga un color distinto según la clase.</li>
<li class="fragment">El gráfico debería quedarle así:</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-45-1.png" width="960"></p>
</div>
</div>
<p><img src="imagenes/logo_portada2.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>